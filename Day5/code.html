<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expense Tracker  </title>
</head>
<style>
    body{
        background-color: #f0f2f5;
        font-family:Arial, Helvetica, sans-serif;

    }

    header{
        text-align: center;
        font-weight: bolder;
        margin: 40px 10px;
    }

    .box-container{
        background-color: white;
        width: 450px;
        height: auto;
        padding: 15px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1); 
        border-radius: 10px;
    }
    main{
        display: flex;
        justify-content: center;
        align-items: center;
    }
.form-section{
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 15px;}

.form-section input[type="text"] {
    flex: 2 1 0;
    padding: 12px;
    border-radius: 8px;
    border: 1px solid #d5d5d5;
    font-size: 14px;
}

.form-section input[type="number"] {
    flex: 1;
    padding: 12px;
    border-radius: 8px;
    border: 1px solid #d5d5d5;
    font-size: 14px;
}
    hr{
        margin: 10px;
    }

.form-section button{
    background-color: green;
    color: white;
    border: none;
    cursor: pointer;
    border-radius: 8px;
    font-size: 22px;
    padding: 12px 16px; /* give button a fixed size */
    flex: 0 0 auto;
        box-sizing: border-box; /* crucial */


}
.item-list{
    background-color: #ccc;
    border-radius: 8px;
}

.item{
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-family: "Comic Sans MS";
}

.item button{
    border-radius: 8px;
    color: white;
    background-color: red;
    margin: 8px;
}

.totalamount p{
    font-weight: bolder;
    font-family: 'Poppins', sans-serif;
    text-align: center;
}
</style>
<body>
    <header> <H1> Expense Tracker </h1></header>


<main>
    <section class="box-container">

        <div class="form-section">
            <input type="text" name="input-item" id="input-item" required placeholder="What did you spend on?">
            <input type="number" name="item-price" id="item-price" required placeholder = "Amount (Rs)">

            <button type="submit" onclick="AddItemPrice();"> + </button>
        </div>

        <div class="item-list">

             <hr>
        </div>

        <div class="totalamount">
            <p> Total Spent : <span class="value"></span>  </p> 
            
        </div>

    </section>

</main>
<script>
    const inputitem = document.getElementById("input-item");
    const inputamount = document.getElementById("item-price");
    const totalvalue = document.querySelector(".value");


    function AddItemPrice(){
        if(inputitem.value == "" || inputamount.value == ""){
            alert("Add text and amount first bro!");
            return;
        }
        const itemlist = document.querySelector(".item-list");
        let newitem = document.createElement("div");
        let itemprice = document.createElement("div");
        itemprice.className = "itemprice";
        itemprice.textContent = inputamount.value;
        newitem.className = "item";
        span = document.createElement("span")
        span.textContent = inputitem.value;
        newitem.appendChild(span);
        let removebtn = document.createElement("button");
        removebtn.className = "remove-btn";
        removebtn.textContent = "‚ùå";

        removebtn.addEventListener("click", function(){
            newitem.remove();
            FindTotalExpenses();

        })
        let hr = document.createElement("hr");
        hr.style.margin = "5px 0";
        hr.style.border = "0";
        hr.style.height = "1px";
        hr.style.backgroundColor = "#888";
        
        newitem.appendChild(itemprice);
        newitem.appendChild(removebtn);
        itemlist.appendChild(newitem);
        itemlist.appendChild(hr);
        
        FindTotalExpenses();
        inputitem.value = '';
        inputamount.value = '';

    }

    function FindTotalExpenses(){
        const allitems = document.querySelectorAll(".item");
        let total = 0;
        for(let i=0; i<allitems.length; i++){
            let itemprice = allitems[i];
            price = itemprice.querySelector(".itemprice").textContent;
            if(price){
                price = parseInt(price);
                total+=price;
            }
        }
       
        totalvalue.textContent = total;
    }

    const form = document.querySelector(".form-section");
    form.addEventListener("keypress", function(event){
        if(event.key == "Enter"){
            event.preventDefault();
            AddItemPrice();
        }
    })


</script>
    
</body>
</html>